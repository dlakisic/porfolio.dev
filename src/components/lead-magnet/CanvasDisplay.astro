---
import PersonalizedHeader from './PersonalizedHeader.astro';
import CanvasSection from './CanvasSection.astro';
import NextSteps from './NextSteps.astro';
---

<div id="canvas-display" class="hidden">
  <PersonalizedHeader />
  
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="canvas-sections">
    <!-- Sections will be populated by JavaScript -->
  </div>

  <NextSteps />

  <!-- CTA Final -->
  <div class="bg-gradient-to-r from-purple-600 to-blue-600 dark:from-purple-700 dark:to-blue-700 
              text-white rounded-lg p-6 text-center mt-8">
    <div class="flex items-center justify-center gap-2 mb-4 flex-wrap">
      â° <span class="bg-white/20 px-3 py-1 rounded text-sm">Offre limitÃ©e - 3 places restantes ce mois</span>
    </div>
    <h3 class="text-2xl font-bold mb-2">PrÃªt pour l'audit complet ?</h3>
    <p class="mb-4 opacity-90">
      Rejoignez les 20+ entreprises de votre secteur qui ont dÃ©jÃ  transformÃ© leur activitÃ© avec l'IA
    </p>
    <button class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
      ğŸ“ˆ RÃ©server mon audit gratuit (30 min)
    </button>
  </div>
</div>

<script>
  import { CanvasGenerator } from '../../utils/canvas-generator.js';
  
  document.addEventListener('canvasGenerated', (event) => {
    new CanvasGenerator((event as CustomEvent).detail);
  });
</script> 